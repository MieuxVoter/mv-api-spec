type: object
description:
  $ref: 'poll.md'
properties:
  id:
    type: string
    description: A unique identifier.
    example: 1jDe1e5eF_IkaYPuoIYX
    readOnly: true
  uuid:
    type: string
    format: uuid
    # pattern is defined for implementations that don't understand format: uuid
    pattern: '[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}'
    description: >
      A Universally Unique IDentifier for the poll. (version 4)
    example: bb788552-727d-470b-827e-d7796248d293
    readOnly: true
  title:
    type: string
    description: The title of the poll.
    example: What project should our neighbourhood invest in for the next year?
  description:
    type: string
    description: >
      A lengthy description of the poll.
      In here should be stated the constitutive details of the poll,
      whether it is informative or imperative for example.
    example: >
      This poll will help decide which projects get the most attention and budget
      so you should consider the proposals carefully and with gumption.
  proposals:
    type: array
    description: >
      The proposals being judged by the participants in a poll.
      It makes no sense to have less than two proposals in a poll.
    minItems: 2
    maxItems: 20
    items:
      $ref: ./proposal.yaml
  grades:
    type: array
    description: The grades on which one participant vote to a proposal.
    minItems: 2
    maxItems: 10
    items:
      $ref: ./grade.yaml
  participants:
    type: array
    description: The participants that are allowed to participate to the election.
    items:
      $ref: ./participant.yaml
  user-id:
    type: string
    description: Organizer id. If not given, a dummy user is created.
  restrict-participants:
    type: boolean
    description: True if anyone can participate in this poll, False otherwise.
    example: false
required:
  - title
  - proposals
